let t;function e(t=document){const e=function(t){return[...t.querySelectorAll('input[list]:not([list=""]):not([data-datalist-native])')].filter(t=>null!==t.list)}(t);for(const t of e)t.list.classList.add('datalist'),t.addEventListener('focusin',n);e.length>0&&(document.body.addEventListener('click',r),document.addEventListener('keydown',f))}function n(e){const n=u(e);if(!n)return;if(n.list){const t=n.list;n.datalist=t,n.removeAttribute('list'),t.input=n,t.setAttribute('tabindex',-1),n.addEventListener('input',s),n.addEventListener('keydown',o),t.addEventListener('keydown',l),t.addEventListener('click',c)}const a=n.datalist;a&&!a.shown&&(i(t),a.shown=!0,a.classList.add('datalist--visible'),s(e),t=a)}function i(t){t&&t.shown&&(t.classList.remove('datalist--visible'),t.shown=!1)}function s(t){const e=u(t);if(!e||!e.datalist)return;const n=e.value.trim().toLowerCase(),i=[...e.datalist.getElementsByTagName('option')];for(const t of i)t.setAttribute('tabindex',0),t.style.display=!n||t.value.toLowerCase().includes(n)?'block':'none'}function o(t){const e=u(t);if(e&&e.datalist)switch(t.keyCode){case 40:{let t=e.datalist.firstElementChild;t.offsetHeight||(t=d(t,1)),t&&t.focus();break}case 9:i(e.datalist);break;case 13:case 32:c(t)}}'undefined'!=typeof document&&document.addEventListener('DOMContentLoaded',()=>e());const a={33:-12,34:12,38:-1,40:1};function l(t){const e=u(t);if(!e)return;const n=t.keyCode,s=a[n],o=e.parentElement;if(s){let n=d(e,s);n&&n.focus(),t.preventDefault()}else 9===n||13===n||32===n?c(t):8===n?o.input.focus():27===n&&i(o)}function d(t,e){let n=t;do{e<0?n=n.previousElementSibling:e>0&&(n=n.nextElementSibling),n&&n.offsetHeight&&(t=n,e-=Math.sign(e))}while(n&&e);return t}function c(t){const e=u(t),n=e&&e.parentElement;n&&n.input&&(n.input.value=e&&e.value||'',i(n))}function u(t){return t&&t.target}function r(e){t&&!t.contains(e.target)&&e.target!==t.input&&i(t)}function f(e){t&&['Esc','Escape'].includes(e.key)&&i(t)}export{e as inyectDataListCss};
//# sourceMappingURL=datalist-css.min.js.map
